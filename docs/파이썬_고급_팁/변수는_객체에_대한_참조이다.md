---
title: 변수는 객체에 대한 참조이다
parent: 파이썬 고급 팁
nav_order: 1
---

# 변수는 객체에 대한 참조이다

## 변수는 박스가 아니다

파이썬 교육 자료들을 보면 종종 변수를 박스에 비유하는 경우를 볼 수 있다.

* 변수는 값을 저장하는 공간이다.
* 변수를 값을 담는 박스로 생각하면 변수에 대해 이해하기 쉽다.

하지만 아래 예제를 통해 이 비유가 적절하지 않음을 확인할 수 있다.  

```python
>>> a = [1, 2, 3, 4]
>>> b = a
>>> a[0] = 5
>>> b
[5, 2, 3, 4]
```

값을 담는 박스에 비유하여 해석하면 다음과 같다.

* `a`:  저장 공간에 리스트 [1, 2, 3, 4] 를 할당한다.
* `b=a`: a 의 값을 b 저장 공간에 할당한다. (값 복사)
* `a[0] = 5`:: 변수 `a` 의 0 번 인덱스의 값을 기존 1 에서 5 로 교체한다.
* `b`: b 의 0 번 인덱스가 왜 바뀌었지?

파이썬에서 변수의 역할은 객체에 대한 참조이기 때문에 박스 비유는 배우는 입장에서 혼란을 야기한다.
`b = a` 는 값 복사가 아닌 a 가 참조하고 있는 객체를 b 도 참조하겠다는 의미로 해석해야 한다.

올바른 해석은 다음과 같다.

* `a`:  리스트 [1, 2, 3, 4] 를 생성하고 변수 a 에 바인딩한다.
* `b=a`: 변수 `a` 가 참조하는 객체를 변수 b 에 바인딩한다.
* `a[0] = 5`: 변수 a 가 참조하는 리스트의 첫 번째 요소 값을 1 에서 5 로 변경한다.
* `b`: a 와 b 가 같은 객체를 참조하고 있으므로, a 가 참조하는 값을 변경하면, b 도 영향을 받는다.

또한, 파이썬 할당문은 할당식(`=`)의 오른쪽에서 객체를 먼저 생성한 뒤 왼쪽의 변수에 바인딩한다.
즉, 변수가 먼저 생성된 뒤 값을 할당받는다는 것이 아니라는 의미이다.

다음은 REPL 환경에서 변수가 먼저 생성되지 않음을 증명하는 예제이다.

```python
>>> a = 3.5
>>> b = 3.5 * "hello"
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: can't multiply sequence by non-int of type 'float'
>>> dir()
['__annotations__', '__builtins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__', 'a']
```

변수 `a` 는 정상적으로 생성되었지만, `b` 는 할당문의 오른쪽 식에서 에러가 발생했으므로 생성되지 않았다.  

일부 언어에서는 실제 메모리 공간(즉, 박스)을 미리 할당한 후 그 공간에 값을 저장하기 때문에 박스 비유가 적절할 수 있지만, 파이썬에서는 변수는 객체의 참조를 저장한다는 점에 유의해야 한다.


변수를 박스에 비유하는 것보다 올바른 비유는 박스에 붙은 라벨이라고 표현하는 것이다. 라벨은 단지 박스에 붙은 이름이므로 동일한 박스에 여러 라벨을 붙일 수도 있다.
